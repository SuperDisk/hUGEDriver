MACRO dn ;; (note, instr, effect)
    db (\1 | ((\2 & %00010000) << 3))
    db (((\2 << 4) & $FF) | (\3 >> 8))
    db LOW(\3)
ENDM

DEF C_3 EQU 0
DEF C#3 EQU 1
DEF D_3 EQU 2
DEF D#3 EQU 3
DEF E_3 EQU 4
DEF F_3 EQU 5
DEF F#3 EQU 6
DEF G_3 EQU 7
DEF G#3 EQU 8
DEF A_3 EQU 9
DEF A#3 EQU 10
DEF B_3 EQU 11
DEF C_4 EQU 12
DEF C#4 EQU 13
DEF D_4 EQU 14
DEF D#4 EQU 15
DEF E_4 EQU 16
DEF F_4 EQU 17
DEF F#4 EQU 18
DEF G_4 EQU 19
DEF G#4 EQU 20
DEF A_4 EQU 21
DEF A#4 EQU 22
DEF B_4 EQU 23
DEF C_5 EQU 24
DEF C#5 EQU 25
DEF D_5 EQU 26
DEF D#5 EQU 27
DEF E_5 EQU 28
DEF F_5 EQU 29
DEF F#5 EQU 30
DEF G_5 EQU 31
DEF G#5 EQU 32
DEF A_5 EQU 33
DEF A#5 EQU 34
DEF B_5 EQU 35
DEF C_6 EQU 36
DEF C#6 EQU 37
DEF D_6 EQU 38
DEF D#6 EQU 39
DEF E_6 EQU 40
DEF F_6 EQU 41
DEF F#6 EQU 42
DEF G_6 EQU 43
DEF G#6 EQU 44
DEF A_6 EQU 45
DEF A#6 EQU 46
DEF B_6 EQU 47
DEF C_7 EQU 48
DEF C#7 EQU 49
DEF D_7 EQU 50
DEF D#7 EQU 51
DEF E_7 EQU 52
DEF F_7 EQU 53
DEF F#7 EQU 54
DEF G_7 EQU 55
DEF G#7 EQU 56
DEF A_7 EQU 57
DEF A#7 EQU 58
DEF B_7 EQU 59
DEF C_8 EQU 60
DEF C#8 EQU 61
DEF D_8 EQU 62
DEF D#8 EQU 63
DEF E_8 EQU 64
DEF F_8 EQU 65
DEF F#8 EQU 66
DEF G_8 EQU 67
DEF G#8 EQU 68
DEF A_8 EQU 69
DEF A#8 EQU 70
DEF B_8 EQU 71
DEF LAST_NOTE EQU 72
DEF ___ EQU 90 ; the default "no note" value
DEF NO_NOTE EQU ___